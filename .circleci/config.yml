version: '2.1'
jobs:
  tests:
    docker:
      - image: cirrusci/flutter
    steps:
      - checkout
      - run:
          name: Flutter Doctor
          command: flutter doctor
      - run:
          name: App Facing Tests
          command: flutter test
          working_directory: ./auth0_flutter
      - run:
          name: Platform Interface Tests
          command: flutter test
          working_directory: ./auth0_flutter_platform_interface
      - run:
          name: App Facing Analyze
          command: dart analyze
          working_directory: ./auth0_flutter
      - run:
          name: Platform Interface Analyze
          command: dart analyze
          working_directory: ./auth0_flutter_platform_interface
workflows:
  build:
    jobs:
      - tests
